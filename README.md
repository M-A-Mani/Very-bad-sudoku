Lessons that should be taken out of this code:

1) Use always explicit variable and function names. You should avoid using random names such as 'p1', 'p2', 'i', 'j', etc.
2) Improve readability by providing proper indentation and spacing. One line of code makes it difficult to follow the logic.
3) Explain your code by commenting is very necessary. If your code's complexity or ambiguity is not clear, insert comments that explain what you're doing.
4) Make wise use of the built-in functions. It is not required to do it manually in the functionality that is already been done.
5) Check user inputs and return specific error messages. This code only logs random console messages which, of course, can be confusing to the user.
6) The code should have a modular approach. Avoid putting all the logic in one big function or one giant loop.
7) Refrain from the needless and redundant assertions/conditions. Functions should be proper, compact, and only do necessary things.
8) Avoid writing code that is difficult or impossible even for others to understand. Your code is a nightmare if it is obscure, and it makes debugging difficult.
9) Do not ever hard code values in the places where they are not supposed to be. Besides that, think scalability in future.
10) For the creation of games or any other kind of interface with the user, make sure that they can really comprehend the interaction, error messages, and flow.
